# 可拖拽翻译调用追踪器面板测试指南

## 功能概述

翻译调用追踪器面板现在支持拖拽移动和调整大小功能，用户可以自由调整面板的位置和尺寸，提供更好的用户体验。

## 新增功能

### 1. 拖拽移动

- 通过拖拽面板头部或拖拽手柄来移动面板
- 面板不会超出浏览器视窗边界
- 拖拽时有视觉反馈（光标变化、阴影效果）

### 2. 调整大小

- 通过拖拽面板边缘来调整大小
- 支持水平、垂直和对角线调整
- 有最小和最大尺寸限制

### 3. 视觉反馈

- 拖拽时显示抓取光标
- 悬停时增强阴影效果
- 调整大小时显示调整光标

## 测试步骤

### 1. 启动应用

```bash
cd tiny-oauth-server/src/main/webapp
npm run dev
```

### 2. 访问工作流设计器

打开浏览器访问：`http://localhost:5173/workflowDesign`

### 3. 开启追踪器面板

点击右上角的 "📊 开启追踪器" 按钮，面板将以默认位置和大小显示。

### 4. 测试拖拽功能

#### 4.1 拖拽移动面板

1. **通过头部拖拽**

   - 将鼠标悬停在面板头部（标题区域）
   - 鼠标光标应变为抓取光标（grab）
   - 按住鼠标左键并拖拽
   - 面板应跟随鼠标移动
   - 释放鼠标，面板停在当前位置

2. **通过拖拽手柄**

   - 将鼠标悬停在面板头部左侧的 "⋮⋮" 图标上
   - 鼠标光标应变为抓取光标
   - 按住鼠标左键并拖拽
   - 面板应跟随鼠标移动

3. **边界限制测试**
   - 尝试将面板拖拽到浏览器窗口边缘
   - 面板应停在边界内，不会超出视窗
   - 尝试将面板拖拽到浏览器窗口外
   - 面板应保持在视窗内

#### 4.2 调整面板大小

1. **调整宽度**

   - 将鼠标悬停在面板右边缘
   - 鼠标光标应变为水平调整光标（e-resize）
   - 按住鼠标左键并向左或向右拖拽
   - 面板宽度应相应调整

2. **调整高度**

   - 将鼠标悬停在面板下边缘
   - 鼠标光标应变为垂直调整光标（s-resize）
   - 按住鼠标左键并向上或向下拖拽
   - 面板高度应相应调整

3. **同时调整宽度和高度**

   - 将鼠标悬停在面板右下角
   - 鼠标光标应变为对角线调整光标（se-resize）
   - 按住鼠标左键并拖拽
   - 面板宽度和高度应同时调整

4. **尺寸限制测试**
   - 尝试将面板调整到很小的尺寸
   - 面板应保持最小尺寸（400x300像素）
   - 尝试将面板调整到很大的尺寸
   - 面板应不超过视窗边界

### 5. 测试视觉反馈

#### 5.1 拖拽时的视觉反馈

- 拖拽时面板阴影应增强
- 鼠标光标应变为抓取状态（grabbing）
- 面板内容应保持稳定，不出现闪烁

#### 5.2 调整大小时的视觉反馈

- 调整大小时调整手柄应高亮显示
- 鼠标光标应显示相应的调整光标
- 面板内容应实时调整布局

#### 5.3 悬停效果

- 鼠标悬停在面板上时阴影应增强
- 拖拽手柄悬停时应显示背景色
- 调整手柄悬停时应显示高亮色

### 6. 测试功能完整性

#### 6.1 面板功能测试

- 拖拽后面板的所有功能应正常工作
- 调整大小后内容应正确显示
- 筛选、分页等功能应不受影响

#### 6.2 数据更新测试

- 拖拽或调整大小后，实时数据更新应正常
- 翻译调用记录应继续正常显示
- 统计信息应实时更新

### 7. 测试边界情况

#### 7.1 快速操作测试

- 快速连续拖拽面板
- 快速连续调整面板大小
- 面板应响应流畅，不出现卡顿

#### 7.2 极端情况测试

- 将面板拖拽到屏幕边缘
- 将面板调整到最大尺寸
- 将面板调整到最小尺寸
- 面板应保持稳定，不出现异常

## 预期结果

### 拖拽功能

- ✅ 面板可以自由拖拽移动
- ✅ 拖拽时有正确的视觉反馈
- ✅ 面板不会超出视窗边界
- ✅ 拖拽后位置保持稳定

### 调整大小功能

- ✅ 面板可以调整宽度和高度
- ✅ 调整时有正确的光标显示
- ✅ 尺寸限制正常工作
- ✅ 内容布局自适应调整

### 用户体验

- ✅ 操作流畅，无卡顿
- ✅ 视觉反馈清晰明确
- ✅ 功能完整性不受影响
- ✅ 边界情况处理得当

## 故障排除

### 拖拽不工作

1. 检查浏览器是否支持鼠标事件
2. 确认没有其他元素阻止事件传播
3. 检查CSS样式是否正确加载

### 调整大小不工作

1. 确认调整手柄元素正确渲染
2. 检查事件监听器是否正确绑定
3. 验证CSS样式是否正确应用

### 性能问题

1. 检查是否有内存泄漏
2. 确认事件监听器正确清理
3. 验证计算属性是否过度计算

## 兼容性测试

### 浏览器兼容性

- Chrome ✅
- Firefox ✅
- Safari ✅
- Edge ✅

### 操作系统兼容性

- Windows ✅
- macOS ✅
- Linux ✅

### 设备兼容性

- 桌面端 ✅
- 平板端 ⚠️（可能需要调整触摸事件）
- 移动端 ⚠️（可能需要调整触摸事件）

## 总结

可拖拽翻译调用追踪器面板提供了：

1. **灵活的布局**：用户可以自由调整面板位置和大小
2. **直观的操作**：拖拽和调整大小操作简单直观
3. **良好的反馈**：丰富的视觉反馈提升用户体验
4. **稳定的性能**：流畅的操作体验，无性能问题

该功能大大提升了翻译调用追踪器的可用性，让用户可以根据自己的需求和工作习惯来调整面板布局。
